---
  - name: chrome repo
    yum_repository:
      name: google-chrome
      description: Google Chrome
      baseurl: http://dl.google.com/linux/chrome/rpm/stable/x86_64
      enabled: yes
      gpgcheck: yes
      gpgkey: https://dl.google.com/linux/linux_signing_key.pub

  - name: vscode repo
    yum_repository:
      name: code
      description: Visual Studio Code
      baseurl: https://packages.microsoft.com/yumrepos/vscode
      enabled: yes
      gpgcheck: yes
      gpgkey: https://packages.microsoft.com/keys/microsoft.asc

  - name: docker repo
    yum_repository:
      name: docker
      baseurl: https://download.docker.com/linux/fedora/$releasever/$basearch/stable
      description: Docker CE Stable
      enabled: yes
      gpgcheck: yes
      gpgkey: https://download.docker.com/linux/fedora/gpg

  - name: hashicorp repo
    yum_repository:
      name: hashicorp
      description: Hashicorp Stable - $basearch
      enabled: yes
      gpgcheck: yes
      baseurl: https://rpm.releases.hashicorp.com/fedora/$releasever/$basearch/stable
      gpgkey: https://rpm.releases.hashicorp.com/gpg

  - name: install rpmfusion free gpg key
    rpm_key:
      key: https://rpmfusion.org/keys?action=AttachFile&do=get&target=RPM-GPG-KEY-rpmfusion-free-fedora-2020
      fingerprint: E9A4 91A3 DE24 7814 E7E0 67EA E06F 8ECD D651 FF2E

  - name: install rpmfusion nonfree gpg key
    rpm_key:
      key: https://rpmfusion.org/keys?action=AttachFile&do=get&target=RPM-GPG-KEY-rpmfusion-nonfree-fedora-2020
      fingerprint: 79BD B88F 9BBF 7391 0FD4 095B 6A2A F961 9484 3C65

  - name: install rpmfusion free
    dnf:
      name: "https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-{{ ansible_facts['distribution_major_version'] }}.noarch.rpm"
      state: present

  - name: install rpmfusion nonfree
    dnf:
      name: "https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-{{ ansible_facts['distribution_major_version'] }}.noarch.rpm"
      state: present

  - name: install packages
    dnf:
      name: "{{ packages }}"
    vars:
      packages:
        - vim
        - git
        - htop
        - jq
        - curl
        - fish
        - cascadia-fonts-all
        - liberation-fonts
        - google-chrome-stable
        - code
        - docker-ce
        - docker-ce-cli
        - containerd.io
        - keepassxc
        - stoken-cli
        - ffmpeg
